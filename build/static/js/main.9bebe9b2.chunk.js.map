{"version":3,"sources":["components/AddProduct.js","components/StockEventsTable.js","components/StockDetail.js","components/AddStockEvent.js","components/Product.js","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["AddProduct","props","useState","name","setName","description","setDescription","handleSubmit","e","a","preventDefault","data","axios","post","then","res","addProduct","className","onSubmit","type","value","onChange","target","placeholder","rows","StockEventsTable","products","stockEvents","open","setOpen","onClick","Icon","Modal","size","onClose","Content","product","Actions","Button","positive","map","to","filter","event","drug","id","reduce","acc","curr","qty","StockDetail","AddStockEvent","addStockEvent","setData","handleChange","parseInt","console","log","Product","useParams","setStockEvents","fetchStockEvents","get","useEffect","Navbar","style","marginTop","Menu","Item","App","setProducts","fetchProducts","Container","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9bebe9b2.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nfunction AddProduct(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (name) {\n      const data = {\n        name,\n        description,\n      };\n      await axios.post(\"http://localhost:1337/drugs\", data).then((res) => {\n        props.addProduct(res.data);\n      });\n    }\n  };\n  return (\n    <div>\n      <h1>Add Product</h1>\n      <form className=\"ui form\" onSubmit={handleSubmit}>\n        <div className=\"equal width fields\">\n          <div className=\"field\">\n            <label>Name</label>\n            <div className=\"ui fluid input\">\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"field\">\n          <label>Description</label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            placeholder=\"Tell us more about the drug...\"\n            rows=\"3\"\n          ></textarea>\n        </div>\n\n        <div className=\"field\">\n          <button className=\"ui primary button\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddProduct;\n","import React, { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Icon, Button, Modal } from \"semantic-ui-react\";\nimport AddProduct from \"./AddProduct\";\n\nfunction StockEventsTable(props) {\n  const { products, stockEvents } = props;\n  const [open, setOpen] = useState(false);\n  const addProduct = (product) => {\n    props.addProduct(product);\n  };\n  return (\n    <div className=\"StockEventTable\">\n      <div>\n        <h2>Musawo's Drugstore Inventory</h2>\n        <a onClick={() => setOpen(!open)}>\n          <Icon name=\"plus\" />\n          Add New Product\n        </a>\n        <Modal size=\"tiny\" open={open} onClose={() => setOpen(false)}>\n          <Modal.Content>\n            <AddProduct addProduct={addProduct} />\n          </Modal.Content>\n          <Modal.Actions>\n            <Button positive onClick={() => setOpen(false)}>\n              close\n            </Button>\n          </Modal.Actions>\n        </Modal>\n        <div className=\"ui cards\">\n          {products.map((product) => (\n            <div className=\"ui card\" key={product.id}>\n              <div className=\"content\">\n                <NavLink to={`/product/${product.name}`}>\n                  <div className=\"header\">{product.name}</div>\n                </NavLink>\n\n                <div className=\"meta\">\n                  {stockEvents\n                    .filter((event) => event.drug.id === product.id)\n                    .reduce((acc, curr) => acc + curr.qty, 0)}{\" \"}\n                  stock left\n                </div>\n                <div className=\"description\">{product.description}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StockEventsTable;\n","import React from \"react\";\n\nfunction StockDetail({ stockEvents }) {\n  return (\n    <div className=\"ui card\">\n      {stockEvents.map((e) => {\n        return (\n          <div className=\"content\" key={e.id}>\n            <div className=\"meta\">QTY: {e.qty}</div>\n            <div className=\"description\">{`${e.type}ed stock`}</div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default StockDetail;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nfunction AddStockEvent({ product, addStockEvent }) {\n  const [data, setData] = useState({\n    qty: \"\",\n    type: \"\",\n  });\n  const { qty, type } = data;\n  const handleChange = (e) => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (product && type) {\n      const data = {\n        qty: type === \"add\" ? +qty : -qty,\n        type,\n        drug: parseInt(product[0].id),\n      };\n      console.log(data);\n      await axios\n        .post(\"http://localhost:1337/stockevents\", data)\n        .then((res) => {\n          addStockEvent(res.data);\n        });\n    }\n  };\n  return (\n    <div>\n      <h3>New Stock Event</h3>\n      <form className=\"ui form\" onSubmit={handleSubmit}>\n        <div className=\"equal width fields\">\n          <div className=\"field\">\n            <label>qty</label>\n            <input\n              type=\"number\"\n              value={qty}\n              name=\"qty\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"field\">\n            <label></label>\n            <select name=\"type\" onChange={handleChange} value={type}>\n              <option value=\"\">select type</option>\n              <option value=\"add\">add</option>\n              <option value=\"remove\">remove</option>\n            </select>\n          </div>\n        </div>\n        <button className=\"ui primary button\">Create</button>\n      </form>\n    </div>\n  );\n}\n\nexport default AddStockEvent;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport StockDetail from \"./StockDetail\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport AddStockEvent from \"./AddStockEvent\";\n\nfunction Product({ products }) {\n  const { name } = useParams();\n  const [stockEvents, setStockEvents] = useState([]);\n  const [open, setOpen] = useState(false);\n  const fetchStockEvents = async () => {\n    const res = await axios.get(\"http://localhost:1337/stockevents\");\n    setStockEvents(res.data);\n  };\n  useEffect(() => {\n    fetchStockEvents();\n  }, []);\n  const addEvent = (event) => {\n    console.log(event);\n    setStockEvents([event, ...stockEvents]);\n  };\n  return (\n    <div>\n      <h2>{name}</h2>\n      <br />\n      <Button onClick={() => setOpen(!open)}>Add new Event</Button>\n      <br />\n      <br />\n      <Modal size=\"tiny\" open={open} onClose={() => setOpen(false)}>\n        <Modal.Content>\n          <AddStockEvent\n            product={products.filter((product) => product.name === name)}\n            addStockEvent={addEvent}\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button positive onClick={() => setOpen(false)}>\n            close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n      <div className=\"ui cards\">\n        <h4>Stock Details</h4>\n        <StockDetail\n          stockEvents={stockEvents.filter((e) => e.drug.name === name)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Product;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { Menu } from \"semantic-ui-react\";\n\nfunction Navbar() {\n  return (\n    <div style={{ marginTop: \"-20px\" }}>\n      <Menu>\n        <Menu.Item name=\"Home\">\n          <NavLink to=\"/\">Home</NavLink>\n        </Menu.Item>\n      </Menu>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import \"./App.css\";\nimport StockEventsTable from \"./components/StockEventsTable\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport AddProduct from \"./components/AddProduct\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport { Container } from \"semantic-ui-react\";\nimport Product from \"./components/Product\";\nimport Navbar from \"./components/Navbar\";\nfunction App() {\n  const [products, setProducts] = useState([]);\n  const [stockEvents, setStockEvents] = useState([]);\n\n  const fetchStockEvents = async () => {\n    const res = await axios.get(\"http://localhost:1337/stockevents\");\n    setStockEvents(res.data);\n  };\n  const fetchProducts = async () => {\n    const res = await axios.get(\"http://localhost:1337/drugs\");\n    setProducts(res.data);\n  };\n\n  useEffect(() => {\n    fetchStockEvents();\n    fetchProducts();\n  }, []);\n  const addProduct = (product) => {\n    setProducts([product, ...products]);\n  };\n\n  return (\n    <div>\n      <div className=\"App\">\n        <Router>\n          <Navbar />\n          <br />\n          <br />\n          <Container>\n            <Switch>\n              <Route path=\"/product/:name\">\n                <Product products={products} />\n              </Route>\n              <Route path=\"/\">\n                <StockEventsTable\n                  products={products}\n                  stockEvents={stockEvents}\n                  addProduct={addProduct}\n                />\n              </Route>\n            </Switch>\n          </Container>\n        </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}