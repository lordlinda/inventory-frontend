{"version":3,"sources":["components/AddProduct.js","components/StockEventsTable.js","components/StockDetail.js","components/AddStockEvent.js","components/Product.js","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["AddProduct","props","useState","name","setName","description","setDescription","handleSubmit","e","a","preventDefault","data","console","log","axios","post","then","res","addProduct","className","onSubmit","type","value","onChange","target","placeholder","rows","StockEventsTable","stockEvents","setStockEvents","fetchStockEvents","get","products","open","setOpen","useEffect","onClick","href","Icon","Modal","size","onClose","Content","product","Actions","Button","positive","map","to","filter","event","drug","_id","reduce","acc","curr","qty","StockDetail","AddStockEvent","addStockEvent","setData","handleChange","Product","useParams","Navbar","style","marginTop","Menu","Item","App","setProducts","fetchProducts","Container","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.733d91af.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nfunction AddProduct(props) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (name) {\n      const data = {\n        name,\n        description,\n      };\n      console.log(data);\n      await axios\n        .post(\"https://strapi-inventory.herokuapp.com/drugs\", data)\n        .then((res) => {\n          props.addProduct(res.data);\n        });\n    }\n  };\n  return (\n    <div>\n      <h1>Add Product</h1>\n      <form className=\"ui form\" onSubmit={handleSubmit}>\n        <div className=\"equal width fields\">\n          <div className=\"field\">\n            <label>Name</label>\n            <div className=\"ui fluid input\">\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"field\">\n          <label>Description</label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            placeholder=\"Tell us more about the drug...\"\n            rows=\"3\"\n          ></textarea>\n        </div>\n\n        <div className=\"field\">\n          <button className=\"ui primary button\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AddProduct;\n","import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Icon, Button, Modal } from \"semantic-ui-react\";\nimport AddProduct from \"./AddProduct\";\nimport axios from \"axios\";\nfunction StockEventsTable(props) {\n  const [stockEvents, setStockEvents] = useState([]);\n  const fetchStockEvents = async () => {\n    const res = await axios.get(\n      \"https://strapi-inventory.herokuapp.com/stockevents\"\n    );\n    setStockEvents(res.data);\n  };\n  const { products } = props;\n  const [open, setOpen] = useState(false);\n  const addProduct = (product) => {\n    props.addProduct(product);\n  };\n  useEffect(() => {\n    fetchStockEvents();\n  }, []);\n  return (\n    <div className=\"StockEventTable\">\n      <div>\n        <h2>Musawo's Drugstore Inventory</h2>\n        <a onClick={() => setOpen(!open)} href=\"#\">\n          <Icon name=\"plus\" />\n          Add New Product\n        </a>\n        <Modal size=\"tiny\" open={open} onClose={() => setOpen(false)}>\n          <Modal.Content>\n            <AddProduct addProduct={addProduct} />\n          </Modal.Content>\n          <Modal.Actions>\n            <Button positive onClick={() => setOpen(false)}>\n              close\n            </Button>\n          </Modal.Actions>\n        </Modal>\n        <div className=\"ui cards\">\n          {products.map((product) => (\n            <div className=\"ui card\" key={product._id}>\n              <div className=\"content\">\n                <NavLink to={`/product/${product.name}`}>\n                  <div className=\"header\">{product.name}</div>\n                </NavLink>\n\n                <div className=\"meta\">\n                  {stockEvents\n                    .filter((event) => event.drug?._id === product._id)\n                    .reduce((acc, curr) => acc + curr.qty, 0)}{\" \"}\n                  stock left\n                </div>\n                <div className=\"description\">{product.description}</div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StockEventsTable;\n","import React from \"react\";\n\nfunction StockDetail({ stockEvents }) {\n  return (\n    <div className=\"ui card\">\n      {stockEvents.map((e) => {\n        return (\n          <div className=\"content\" key={e._id}>\n            <div className=\"meta\">QTY: {e.qty}</div>\n            <div className=\"description\">\n              {e.type === \"add\" ? \"added stock\" : \"removed stock\"}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default StockDetail;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nfunction AddStockEvent({ product, addStockEvent }) {\n  const [data, setData] = useState({\n    qty: \"\",\n    type: \"\",\n  });\n  const { qty, type } = data;\n  const handleChange = (e) => {\n    setData({\n      ...data,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (product && type) {\n      const data = {\n        qty: type === \"add\" ? +qty : -qty,\n        type,\n        drug: product[0]._id,\n      };\n      await axios\n        .post(\"https://strapi-inventory.herokuapp.com/stockevents\", data)\n        .then((res) => {\n          addStockEvent(res.data);\n        });\n    }\n  };\n  return (\n    <div>\n      <h3>New Stock Event</h3>\n      <form className=\"ui form\" onSubmit={handleSubmit}>\n        <div className=\"equal width fields\">\n          <div className=\"field\">\n            <label>qty</label>\n            <input\n              type=\"number\"\n              value={qty}\n              name=\"qty\"\n              onChange={handleChange}\n            />\n          </div>\n          <div className=\"field\">\n            <label></label>\n            <select name=\"type\" onChange={handleChange} value={type}>\n              <option value=\"\">select type</option>\n              <option value=\"add\">add</option>\n              <option value=\"remove\">remove</option>\n            </select>\n          </div>\n        </div>\n        <button className=\"ui primary button\">Create</button>\n      </form>\n    </div>\n  );\n}\n\nexport default AddStockEvent;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport StockDetail from \"./StockDetail\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport AddStockEvent from \"./AddStockEvent\";\n\nfunction Product({ products }) {\n  const { name } = useParams();\n  const [stockEvents, setStockEvents] = useState([]);\n  const [open, setOpen] = useState(false);\n  const fetchStockEvents = async () => {\n    const res = await axios.get(\n      \"https://strapi-inventory.herokuapp.com/stockevents\"\n    );\n    setStockEvents(res.data);\n  };\n  useEffect(() => {\n    fetchStockEvents();\n  }, []);\n  const addEvent = (event) => {\n    setStockEvents([event, ...stockEvents]);\n  };\n  return (\n    <div>\n      <h2>{name}</h2>\n      <br />\n      <Button onClick={() => setOpen(!open)}>Add new Event</Button>\n      <br />\n      <br />\n      <Modal size=\"tiny\" open={open} onClose={() => setOpen(false)}>\n        <Modal.Content>\n          <AddStockEvent\n            product={products.filter((product) => product.name === name)}\n            addStockEvent={addEvent}\n          />\n        </Modal.Content>\n        <Modal.Actions>\n          <Button positive onClick={() => setOpen(false)}>\n            close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n      <div className=\"ui cards\">\n        <h4>Stock Details</h4>\n        <StockDetail\n          stockEvents={stockEvents.filter((e) => e.drug?.name === name)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Product;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { Menu } from \"semantic-ui-react\";\n\nfunction Navbar() {\n  return (\n    <div style={{ marginTop: \"-20px\" }}>\n      <Menu>\n        <Menu.Item name=\"Home\">\n          <NavLink to=\"/\">Home</NavLink>\n        </Menu.Item>\n      </Menu>\n    </div>\n  );\n}\n\nexport default Navbar;\n","import \"./App.css\";\nimport StockEventsTable from \"./components/StockEventsTable\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport { Container } from \"semantic-ui-react\";\nimport Product from \"./components/Product\";\nimport Navbar from \"./components/Navbar\";\nfunction App() {\n  const [products, setProducts] = useState([]);\n\n  const fetchProducts = async () => {\n    const res = await axios.get(\"https://strapi-inventory.herokuapp.com/drugs\");\n    setProducts(res.data);\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const addProduct = (product) => {\n    setProducts([product, ...products]);\n  };\n  return (\n    <div>\n      <div className=\"App\">\n        <Router>\n          <Navbar />\n          <br />\n          <br />\n          <Container>\n            <Switch>\n              <Route path=\"/product/:name\">\n                <Product products={products} />\n              </Route>\n              <Route path=\"/\">\n                <StockEventsTable products={products} addProduct={addProduct} />\n              </Route>\n            </Switch>\n          </Container>\n        </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}