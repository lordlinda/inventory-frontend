(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{135:function(e,t,c){},137:function(e,t,c){},163:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(0),s=c(46),a=c.n(s),i=(c(135),c(85)),j=c(18),o=c.n(j),u=c(28),d=c(20),l=(c(137),c(45)),b=c(61),O=c(176),h=c(177),x=c(29),v=c.n(x);var f=function(e){var t=Object(r.useState)(""),c=Object(d.a)(t,2),s=c[0],a=c[1],i=Object(r.useState)(""),j=Object(d.a)(i,2),l=j[0],b=j[1],O=function(){var t=Object(u.a)(o.a.mark((function t(c){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!s){t.next=5;break}return n={name:s,description:l},t.next=5,v.a.post("http://localhost:1337/drugs",n).then((function(t){e.addProduct(t.data)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Add Product"}),Object(n.jsxs)("form",{className:"ui form",onSubmit:O,children:[Object(n.jsx)("div",{className:"equal width fields",children:Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("div",{className:"ui fluid input",children:Object(n.jsx)("input",{type:"text",value:s,onChange:function(e){return a(e.target.value)}})})]})}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)("textarea",{value:l,onChange:function(e){return b(e.target.value)},placeholder:"Tell us more about the drug...",rows:"3"})]}),Object(n.jsx)("div",{className:"field",children:Object(n.jsx)("button",{className:"ui primary button",children:"Submit"})})]})]})};var p=function(e){var t=e.products,c=e.stockEvents,s=Object(r.useState)(!1),a=Object(d.a)(s,2),i=a[0],j=a[1];return Object(n.jsx)("div",{className:"StockEventTable",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Musawo's Drugstore Inventory"}),Object(n.jsxs)("a",{onClick:function(){return j(!i)},children:[Object(n.jsx)(b.a,{name:"plus"}),"Add New Product"]}),Object(n.jsxs)(O.a,{size:"tiny",open:i,onClose:function(){return j(!1)},children:[Object(n.jsx)(O.a.Content,{children:Object(n.jsx)(f,{addProduct:function(t){e.addProduct(t)}})}),Object(n.jsx)(O.a.Actions,{children:Object(n.jsx)(h.a,{positive:!0,onClick:function(){return j(!1)},children:"close"})})]}),Object(n.jsx)("div",{className:"ui cards",children:t.map((function(e){return Object(n.jsx)("div",{className:"ui card",children:Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(l.b,{to:"/product/".concat(e.name),children:Object(n.jsx)("div",{className:"header",children:e.name})}),Object(n.jsxs)("div",{className:"meta",children:[c.filter((function(t){return t.drug.id===e.id})).reduce((function(e,t){return e+t.qty}),0)," ","stock left"]}),Object(n.jsx)("div",{className:"description",children:e.description})]})},e.id)}))})]})})},m=c(10),g=(c(162),c(174));var N=function(e){var t=e.stockEvents;return Object(n.jsx)("div",{className:"ui card",children:t.map((function(e){return Object(n.jsxs)("div",{className:"content",children:[Object(n.jsxs)("div",{className:"meta",children:["QTY: ",e.qty]}),Object(n.jsx)("div",{className:"description",children:"".concat(e.type,"ed stock")})]},e.id)}))})},k=c(83),y=c(102);var w=function(e){var t=e.product,c=e.addStockEvent,s=Object(r.useState)({qty:"",type:""}),a=Object(d.a)(s,2),i=a[0],j=a[1],l=i.qty,b=i.type,O=function(e){j(Object(y.a)(Object(y.a)({},i),{},Object(k.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!t||!b){e.next=6;break}return r={qty:"add"===b?+l:-l,type:b,drug:parseInt(t[0].id)},console.log(r),e.next=6,v.a.post("http://localhost:1337/stockevents",r).then((function(e){c(e.data)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"New Stock Event"}),Object(n.jsxs)("form",{className:"ui form",onSubmit:h,children:[Object(n.jsxs)("div",{className:"equal width fields",children:[Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"qty"}),Object(n.jsx)("input",{type:"number",value:l,name:"qty",onChange:O})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{}),Object(n.jsxs)("select",{name:"type",onChange:O,value:b,children:[Object(n.jsx)("option",{value:"",children:"select type"}),Object(n.jsx)("option",{value:"add",children:"add"}),Object(n.jsx)("option",{value:"remove",children:"remove"})]})]})]}),Object(n.jsx)("button",{className:"ui primary button",children:"Create"})]})]})};var S=function(e){var t=e.products,c=Object(m.f)().name,s=Object(r.useState)([]),a=Object(d.a)(s,2),j=a[0],l=a[1],b=Object(r.useState)(!1),x=Object(d.a)(b,2),f=x[0],p=x[1],g=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:1337/stockevents");case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:c}),Object(n.jsx)("br",{}),Object(n.jsx)(h.a,{onClick:function(){return p(!f)},children:"Add new Event"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(O.a,{size:"tiny",open:f,onClose:function(){return p(!1)},children:[Object(n.jsx)(O.a.Content,{children:Object(n.jsx)(w,{product:t.filter((function(e){return e.name===c})),addStockEvent:function(e){console.log(e),l([e].concat(Object(i.a)(j)))}})}),Object(n.jsx)(O.a.Actions,{children:Object(n.jsx)(h.a,{positive:!0,onClick:function(){return p(!1)},children:"close"})})]}),Object(n.jsxs)("div",{className:"ui cards",children:[Object(n.jsx)("h4",{children:"Stock Details"}),Object(n.jsx)(N,{stockEvents:j.filter((function(e){return e.drug.name===c}))})]})]})},C=c(175);var E=function(){return Object(n.jsx)("div",{style:{marginTop:"-20px"},children:Object(n.jsx)(C.a,{children:Object(n.jsx)(C.a.Item,{name:"Home",children:Object(n.jsx)(l.b,{to:"/",children:"Home"})})})})};var q=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),j=Object(d.a)(a,2),b=j[0],O=j[1],h=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:1337/stockevents");case 2:t=e.sent,O(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("http://localhost:1337/drugs");case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h(),x()}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(E,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(g.a,{children:Object(n.jsxs)(m.c,{children:[Object(n.jsx)(m.a,{path:"/product/:name",children:Object(n.jsx)(S,{products:c})}),Object(n.jsx)(m.a,{path:"/",children:Object(n.jsx)(p,{products:c,stockEvents:b,addProduct:function(e){s([e].concat(Object(i.a)(c)))}})})]})})]})})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,180)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(q,{})}),document.getElementById("root")),P()}},[[163,1,2]]]);
//# sourceMappingURL=main.9bebe9b2.chunk.js.map